<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø®Ø±ÙŠØ·Ø© ÙÙ„Ø³Ø·ÙŠÙ†</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; direction: rtl; }
        #map-container { position: relative; display: inline-block; }
        #map { width: 600px; height: auto; cursor: pointer; }
        #message { font-size: 20px; margin-top: 10px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø®Ø±ÙŠØ·Ø© ÙÙ„Ø³Ø·ÙŠÙ†</h1>
    <p id="question">Ø£ÙŠÙ† ØªÙ‚Ø¹ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù‚Ø¯Ø³ØŸ</p>

    <div id="map-container">
        <img id="map" src="213.png" alt="Ø®Ø±ÙŠØ·Ø© ÙÙ„Ø³Ø·ÙŠÙ†">
    </div>

    <p id="message"></p>

    <script>
        let currentCity = "Ø§Ù„Ù‚Ø¯Ø³"; // Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø±Ù‡Ø§
        const cities = ["Ø§Ù„Ø®Ù„ÙŠÙ„", "Ø¨Ø¦Ø± Ø§Ù„Ø³Ø¨Ø¹", "Ø±ÙØ­", "ØºØ²Ø©", "ÙŠØ§ÙØ§", "Ø£Ø±ÙŠØ­Ø§", "Ø§Ù„Ù‚Ø¯Ø³", "Ù†Ø§Ø¨Ù„Ø³", "Ø¬Ù†ÙŠÙ†", "Ø·Ø¨Ø±ÙŠØ§", "Ø§Ù„Ù†Ø§ØµØ±Ø©", "ØµÙØ¯", "Ø¹ÙƒØ§", "Ø­ÙŠÙØ§"];
        let cityIndex = 0;

        document.getElementById("map").addEventListener("click", function(event) {
            const rect = event.target.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            fetch("/check_answer", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ city: currentCity, x: x, y: y })
            })
            .then(response => response.json())
            .then(data => {
                if (data.correct) {
                    document.getElementById("message").textContent = "âœ”ï¸ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!";
                    nextCity();
                } else {
                    document.getElementById("message").textContent = "âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!";
                }
            });
        });

        function nextCity() {
            cityIndex++;
            if (cityIndex < cities.length) {
                currentCity = cities[cityIndex];
                document.getElementById("question").textContent = `Ø£ÙŠÙ† ØªÙ‚Ø¹ Ù…Ø¯ÙŠÙ†Ø© ${currentCity}ØŸ`;
            } else {
                document.getElementById("question").textContent = "ğŸ‰ Ù„Ù‚Ø¯ Ø§Ù†ØªÙ‡ÙŠØª Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©!";
                document.getElementById("message").textContent = "";
            }
        }
    </script>
</body>
</html>
